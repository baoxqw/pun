{"remainingRequest":"/Users/xuqianwen/Desktop/computer/农商/poc原项目/poc 2/Pncui-Indicator/node_modules/babel-loader/lib/index.js!/Users/xuqianwen/Desktop/computer/农商/poc原项目/poc 2/Pncui-Indicator/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xuqianwen/Desktop/computer/农商/poc原项目/poc 2/Pncui-Indicator/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xuqianwen/Desktop/computer/农商/poc原项目/poc 2/Pncui-Indicator/src/views/indicators/statements/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xuqianwen/Desktop/computer/农商/poc原项目/poc 2/Pncui-Indicator/src/views/indicators/statements/index.vue","mtime":1652254307733},{"path":"/Users/xuqianwen/Desktop/computer/农商/poc原项目/poc 2/Pncui-Indicator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xuqianwen/Desktop/computer/农商/poc原项目/poc 2/Pncui-Indicator/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/xuqianwen/Desktop/computer/农商/poc原项目/poc 2/Pncui-Indicator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xuqianwen/Desktop/computer/农商/poc原项目/poc 2/Pncui-Indicator/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"index\",\n  data: function data() {\n    return {\n      formInline: {\n        user: '',\n        region: ''\n      },\n\n      /*data: [\n        {\n          id: 1,\n          label: \"上海市\",\n          children: [\n            {\n              id: 4,\n              label: \"普陀区\",\n              children: [\n                {\n                  id: 9,\n                  label: \"宁夏路\"\n                },\n                {\n                  id: 10,\n                  label: \"曹杨路\"\n                }\n              ]\n            }\n          ]\n        },\n        {\n          id: 2,\n          label: \"北京市\",\n          children: [\n            {\n              id: 5,\n              label: \"朝阳区\"\n            },\n            {\n              id: 6,\n              label: \"东城区\"\n            }\n          ]\n        },\n        {\n          id: 3,\n          label: \"西安市\",\n          children: [\n            {\n              id: 7,\n              label: \"未央区\"\n            },\n            {\n              id: 8,\n              label: \"碑林区\",\n              children: [\n                {\n                  id: 11,\n                  label: \"和平路\"\n                },\n                {\n                  id: 12,\n                  label: \"南大街\"\n                }\n              ]\n            }\n          ]\n        }\n      ],*/\n      data: [{\n        id: 1,\n        label: '全行指标',\n        children: [{\n          id: 1 - 1,\n          label: \"利息收入\",\n          children: [{\n            id: 1 - 1 - 1,\n            label: \"2年个人定期整存整取加权平均利率\"\n          }, {\n            id: 1 - 1 - 2,\n            label: \"一年以上贷款d当月发生额\"\n          }]\n        }]\n      }, {\n        id: 2,\n        label: '管架应用'\n      }, {\n        id: 3,\n        label: '小金中心报表'\n      }, {\n        id: 4,\n        label: '5.26上线报表'\n      }],\n      isEditHeader: false,\n      checked: false,\n      dialogVisible: false,\n      // 自定义单元格\n      filterVisible: false,\n      // 设置过滤\n      isUpdate: true,\n      isEdit: true,\n      propArr: [],\n      // 生成dynamicColumns时的记录\n      dynamicColumns: [],\n      // 存放动态生成列\n      tableData: [{\n        date: \"[指标]{信用卡交易笔数}\",\n        name: \"存现\",\n        address: \"[本外合-季累计交易金额(月末汇率折币)]\",\n        isEditor: false,\n        custom: \"\"\n      }, {\n        date: \"[指标]{信用卡交易笔数}\",\n        name: \"取现\",\n        address: \"[小金中心]\",\n        isEditor: false,\n        custom: \"\"\n      }, {\n        date: \"[指标]{信用卡交易笔数}\",\n        name: \"ATM取现\",\n        address: \"[上线报表]\",\n        isEditor: false,\n        custom: \"\"\n      }, {\n        date: \"[指标]{信用卡交易笔数}\",\n        name: \"消费\",\n        address: \"[信用卡]\",\n        isEditor: false,\n        custom: \"\"\n      }],\n      rightList: [],\n      addressDrag: {},\n      defaultProps: {\n        children: \"children\",\n        label: \"label\"\n      },\n      tableDataCus: [{\n        date: '数据日期',\n        name: 'DATE',\n        address: '包含1过滤值'\n      }, {\n        date: '机构编号',\n        name: 'ORG',\n        address: ''\n      }, {\n        date: '信用卡账户机构',\n        name: 'DM542',\n        address: ''\n      }]\n    };\n  },\n  created: function created() {\n    this.initTable();\n  },\n  methods: {\n    filterSubmit: function filterSubmit() {\n      this.filterVisible = false;\n    },\n    onSubmit: function onSubmit() {\n      console.log('submit!');\n    },\n    setFilter: function setFilter() {\n      this.filterVisible = true;\n    },\n    handleClose: function handleClose(done) {\n      this.$confirm('确认关闭？').then(function (_) {\n        done();\n      }).catch(function (_) {});\n    },\n    initTable: function initTable() {\n      var _this = this;\n\n      this.tableData.forEach(function (item) {\n        if (item.custom) {\n          item.custom = JSON.parse(item.custom);\n          Object.keys(item.custom).forEach(function (key) {\n            if (_this.propArr.indexOf(key) === -1) {\n              _this.propArr.push(key);\n\n              _this.dynamicColumns.push({\n                prop: key,\n                label: key\n              });\n            }\n          });\n        } else {\n          item.custom = {};\n        }\n      });\n    },\n    edit: function edit(row, index) {\n      if (this.isUpdate) {\n        row.isEditor = true;\n        this.addressDrag = {};\n        this.isUpdate = false;\n      }\n    },\n    save: function save(row, index) {\n      if (!this.isUpdate) {\n        this.isUpdate = true;\n        row.isEditor = false;\n        row.address = '[' + this.addressDrag.label + ']';\n      }\n    },\n    cancel: function cancel(row, index) {\n      if (!this.isUpdate) {\n        this.isUpdate = true;\n        row.isEditor = false;\n      }\n    },\n    custom: function custom(row, index) {\n      this.dialogVisible = true;\n    },\n    handleDragStart: function handleDragStart(node, ev) {\n      ev.dataTransfer.setData(\"item\", JSON.stringify(node.data));\n    },\n    allowDrop: function allowDrop(draggingNode, dropNode, type) {\n      return false;\n    },\n    allowDrag: function allowDrag(draggingNode) {\n      return true;\n    },\n    drop: function drop(event) {\n      var data = event.dataTransfer.getData(\"item\");\n      this.rightList.push(JSON.parse(data));\n      this.addressDrag = JSON.parse(data);\n      console.log('this.rightList:', this.rightList);\n    },\n    addColumn: function addColumn() {\n      var _this2 = this;\n\n      this.$prompt(\"请输入列名\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\"\n      }).then(function (_ref) {\n        var value = _ref.value;\n        _this2.isEdit = true;\n        _this2.dynamicColumns = [];\n\n        _this2.dynamicColumns.push({\n          prop: value,\n          label: value\n        });\n      });\n    },\n    deleteColunm: function deleteColunm(index) {\n      this.dynamicColumns.splice(index, 1);\n    },\n    submit: function submit() {\n      var _this3 = this;\n\n      var arr = [];\n      this.tableData.forEach(function (data) {\n        var temp = {};\n        temp.name = data.name;\n        var obj = {};\n\n        _this3.dynamicColumns.forEach(function (col) {\n          // 仅把有效的列提交\n          if (data.custom[col.prop]) {\n            obj[col.prop] = data.custom[col.prop];\n          }\n        });\n\n        if (JSON.stringify(obj) !== \"{}\") {\n          temp.custom = JSON.stringify(obj);\n        }\n\n        arr.push(temp);\n      });\n      this.isEdit = false;\n    }\n  }\n};",null]}