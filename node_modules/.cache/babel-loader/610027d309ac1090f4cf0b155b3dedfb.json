{"remainingRequest":"D:\\GienProject\\poc\\Pncui-Indicator\\node_modules\\babel-loader\\lib\\index.js!D:\\GienProject\\poc\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\GienProject\\poc\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GienProject\\poc\\Pncui-Indicator\\src\\views\\indicators\\batch\\SqlEditor\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GienProject\\poc\\Pncui-Indicator\\src\\views\\indicators\\batch\\SqlEditor\\index.vue","mtime":1646502697379},{"path":"D:\\GienProject\\poc\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GienProject\\poc\\Pncui-Indicator\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\GienProject\\poc\\Pncui-Indicator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GienProject\\poc\\Pncui-Indicator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\nimport \"codemirror/theme/ambiance.css\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"codemirror/addon/hint/show-hint.css\";\n\nvar CodeMirror = require(\"codemirror/lib/codemirror\");\n\nrequire(\"codemirror/addon/edit/matchbrackets\");\n\nrequire(\"codemirror/addon/selection/active-line\");\n\nrequire(\"codemirror/mode/sql/sql\");\n\nrequire(\"codemirror/mode/shell/shell\");\n\nrequire(\"codemirror/addon/hint/show-hint\");\n\nrequire(\"codemirror/addon/hint/sql-hint\");\n\nexport default {\n  data: function data() {\n    return {\n      editor: null\n    };\n  },\n  props: {\n    value: {\n      type: String,\n      default: \"\"\n    },\n    sqlStyle: {\n      type: String,\n      default: \"default\"\n    },\n    readOnly: {\n      type: [Boolean, String]\n    },\n    lineNumbers: {\n      type: [Boolean, String],\n      default: function _default() {\n        return true;\n      }\n    },\n    width: {\n      type: String,\n      default: \"auto\"\n    },\n    height: {\n      type: String,\n      default: \"300px\"\n    },\n    codeType: {\n      type: String,\n      // 'text/x-sh'\n      // default: \"text/x-sh\",\n      default: \"text/x-mariadb\"\n    }\n  },\n  watch: {\n    newVal: function newVal(newV, oldV) {\n      if (this.editor) {\n        this.$emit(\"changeTextarea\", this.editor.getValue());\n      }\n    },\n    codeType: function codeType(newV) {\n      this.editor && this.editor.setOption(\"mode\", newV);\n    }\n  },\n  computed: {\n    newVal: function newVal() {\n      if (this.editor) {\n        return this.editor.getValue();\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // let theme = 'ambiance'//设置主题，不设置的会使用默认主题\n    this.editor = CodeMirror.fromTextArea(this.$refs.mycode, {\n      value: this.value,\n      mode: this.codeType,\n      // 选择对应代码编辑器的语言，我这边选的是数据库，根据个人情况自行设置即可\n      indentWithTabs: true,\n      smartIndent: true,\n      lineNumbers: this.lineNumbers,\n      matchBrackets: true,\n      cursorHeight: 1,\n      lineWrapping: true,\n      readOnly: this.readOnly,\n      // theme: theme,\n      // autofocus: true,\n      extraKeys: {\n        Ctrl: \"autocomplete\"\n      },\n      // 自定义快捷键\n      hintOptions: {\n        // 自定义提示选项\n        // 当匹配只有一项的时候是否自动补全\n        completeSingle: false // tables: {\n        //     users: ['name', 'score', 'birthDate'],\n        //     countries: ['name', 'population', 'size']\n        // }\n\n      }\n    }); // 代码自动提示功能，记住使用cursorActivity事件不要使用change事件，这是一个坑，那样页面直接会卡死\n\n    this.editor.on(\"inputRead\", function () {\n      _this.editor.showHint();\n    });\n    this.setSize();\n  },\n  methods: {\n    setSize: function setSize(nowHeight) {\n      this.editor.setSize(this.width, nowHeight || this.height);\n    },\n    setVal: function setVal(value) {\n      if (this.editor) {\n        // if (this.value === \"\") {\n        //   this.editor.setValue(\"\");\n        // } else {\n        //   this.editor.setValue(this.value);\n        // }\n        this.editor.setValue(value);\n      }\n    }\n  }\n};",null]}